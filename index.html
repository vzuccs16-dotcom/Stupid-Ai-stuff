<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Glowing Square Fun</title>
  <link rel="stylesheet" href="style.css">
</head>
<body>
  <!-- Sidebar -->
  <div id="sidebar">
    <button id="toggle-sidebar">☰ Phrases</button>
    <div id="sidebar-content">
      <h2>Discovered Phrases</h2>
      <ul id="phrase-list"></ul>
    </div>
  </div>

  <div id="main-content">
    <h1 id="heading">Welcome to the Glowing Square!</h1>
    <button class="square" aria-label="Decorative glowing square">
      <span class="sr-only">Glowing white square — hover or focus to see glow</span>
    </button>
    <div id="click-count">Clicks: 0</div>
  </div>

  <script src="phrases.js"></script>
  <script>
    const square = document.querySelector('.square');
    const heading = document.getElementById('heading');
    const clickCountDiv = document.getElementById('click-count');
    const phraseList = document.getElementById('phrase-list');
    const toggleSidebar = document.getElementById('toggle-sidebar');
    const sidebarContent = document.getElementById('sidebar-content');

    let clicks = 0;
    const discoveredPhrases = new Set();

    function randomColor() {
      const r = Math.floor(Math.random() * 256);
      const g = Math.floor(Math.random() * 256);
      const b = Math.floor(Math.random() * 256);
      return `rgb(${r},${g},${b})`;
    }

    function randomPhrase() {
      return phrases[Math.floor(Math.random() * phrases.length)];
    }

    function addToSidebar(phrase) {
      if (!discoveredPhrases.has(phrase)) {
        discoveredPhrases.add(phrase);
        const li = document.createElement('li');
        li.textContent = phrase;
        phraseList.appendChild(li);
      }
    }

    square.addEventListener('click', () => {
      clicks++;
      clickCountDiv.textContent = `Clicks: ${clicks}`;

      const newPhrase = randomPhrase();
      heading.textContent = newPhrase;
      addToSidebar(newPhrase);

      const newColor = randomColor();
      square.style.background = newColor;
      document.documentElement.style.setProperty('--glow-color', newColor);
    });

    toggleSidebar.addEventListener('click', () => {
      sidebarContent.classList.toggle('collapsed');
    });
  </script>
</body>
</html>
